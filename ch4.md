# CH4 재사용 상속보단 조립
## 상속과 재사용
* 상속은 객체 지향의 주요 특징중 하나인 재사용성을 쉽게 구현할 수 있는 방법중 하나이다.
* 하지만 상속을 통한 재사용성 구현에는 몇 가지 문제점이 있다.

## 상속을 통한 재사용성 구현의 문제점
![image](https://user-images.githubusercontent.com/58967292/153719461-d0e8f4b3-07b4-4e57-8e00-c500587bf634.png)


### 상위 클래스 변경의 어려움
* 상속은 상위 클래스(부모 클래스)와 하위 클래스(자식 클래스) 사이의 의존관계를 통해 이루어진다.
* 따라서 상위 클래스의 변경은 상위 클래스를 의존하는 자식 클래스에 영향을 미친다.
* 상속 계층이 복잡하고, 크게 이루어져 있으면 상위 클래스의 변경이 미치는 영향은 더 커진다 
* 이렇게되면, 상위 클래스의 변경이 어려워지게 되고 클레스 계층에 소속에 있는 클래스들이 단일 구조처럼 만들어지는 결과를 초래할 수 있다.

### 클래스의 불필요한 증가
* 필요한 기능의 조건이 추가되어 기존의 기능을 확장하는 과정에서 문제가 발생한다.
* 기존에 이미 조건을 만족시킬 수 있는 기능이 구현되어 있더라도, 그것들을 조합하기 위해 새로운 클래스를 계속 생성해야 한다.
* 이는 다중상속을 지원하지 않는 언어에서는 더 큰 문제가 일어난다.

### 상속의 오용
* 상속은 각각의 클래스의 명확한 기능을 파악하고,  그 둘의 관계가 IS-A 관계일 경우 이용해야 하는 기능이다. 
* 명확한 IS-A 관게가 아니라 두 기능(클래스)가 서로 다른 책임을 가지는 관계일경우 상속의 오용으로 인해 기능 구현에 차질이 생길 수 있다.

## 상속은 언제 사용해야 하는가?
![image](https://user-images.githubusercontent.com/58967292/153719244-ba606520-ed40-47ae-9718-1be4e8d2474d.png)
* 재사용성이 아닌 기능 확장의 관점에서 사용해야 한다
* 명확한 IS-A 관계가 성립되는 경우에만 사용해야 한다. 



## 조립을 이용한 재사용의 장점
![image](https://user-images.githubusercontent.com/58967292/153719500-40623716-b72d-4fd9-b440-9536d877a6b4.png)

* 조립을 이용해 재사용성을 구현할 경우, 상속을 통한 재사용성 구현에서 발생할 수 있는 문제점의 많은 부분들을 해결할 수 있다. 
* 조립을 이용해 구현한다는 것은 한 객체가 다른 객체를 필드로서 가진다는 의미이다. 이 말은 한 객체가 다른 객체의 기능을 사용한다는 의미이기도 하다.
* 이렇게 구현되면, 우선 두 객체(클래스)간의 의존 관계가 사라지게 되기 때문에, 변경의 어려움이 발생하지 않는다.
* 또한, 필요한 기능이 추가될 경우,  해당 기능을 가지고 있는 객체를 필드에 추가하면 되기 때문에 추가적으로 클래스를 구현할 필요가 없어진다.
* 상속의 오용으로 인한 문제 또한 해결된다. 각 기능이 독립적으로 구현되어 있으며, 한 객체가 그것을 가져다 쓰는 것이기 때문에  IS-A 관계를 가질 필요가 없어진다.
* 상속의 문제점 뿐만 아니라 조립 자체만의 장점또한 존재한다. 런타임에 조립 대상을 교체할 수 있다.  상속의 경우, 대상을 교체하기 위해서는 소스 코드를 수정하고 재컴파일 할 필요가 있다.

## 조립을 이용한 재사용성의 단점
* 상속에 비해 상대적으로 런타임 구조가 복잡해진다 
* 상속보다 구현이 비교적 어렵다 
* (But 구현/구조의 복잡함보다 변경의 유연성에 오는 장점이 일반적으로 크기 때문에, 재사용성을 구현할 필요가 있을때, 상속보다는 객체 조립을 먼저 고려할 필요가 있다)

## 위임(delegation)
* 위임:  내가 할일 다른 객체에게 넘긴다.
* 일반적으로 조립 방식을 이용해 구현한다
* 위임의 구현은 조립처럼 위임할 객체를 필드로 연결할 수 있다.
* but 다른 객체에게 책임을 넘긴다는 의미가 있음으로, 객체를 생성해서 요청을 전달해도 상관없다.
* 위임과 조립 모두 객체지향적 구현과정에서 발생하는 세분화되고 많은 양의 객체들을 처리하기 위한 바람직한 처리 방법들이다. 
* 위임의 경우 내가 바로 실행 가능한 것을 다른 객체에게 요청하게 됨으로, 메소드 호출이 발생하여 실행 시간이 증가하는 단점이 있다.
* 조립과 마찬기지로,  실행 시간 지연으로 인한 단점보다 위임으로 얻는 구조의 유연함의 장점이 더 크다. 
